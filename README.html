<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.


The Original Code is the SLIME project.

The Initial Developer of the Original Code is David P. Caldwell <david@davidpcaldwell.com>.
Portions created by the Initial Developer are Copyright (C) 2018 the Initial Developer. All Rights Reserved.

Contributor(s):
END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
	<head>
		<title>SLIME</title>
		<link href="loader/api/api.css" rel="stylesheet" type="text/css" />
		<script>
			window.slime = {
				definition: {
					settings: {
						isHomePage: true
					}
				}
			};
		</script>
		<script src="loader/api/api.js"></script>
		<style>
			/*	Try to undo some of the unfortunate stuff in api.css inherited from JSAPI */
			ol { counter-reset: item 0 }
			ol>li { display: block; }
			ol>li:before { content: "arguments[" counter(item) "] "; counter-increment: item; }
			ol>li:before { content: counter(item) ". "; counter-increment: item; }
			ol>li:before { font-family: inherit; font-weight: normal }

			#steps code { background-color: black; color: white; padding: 0.3em 0.5em 0.1em 0.5em; font-weight: bold; }

			#what, #quickstart, #platforms, #platforms>div, #java-compatibility {
				border: 1px solid black;
				padding: 1em;
			}
		</style>
		<script>
			//	TODO	CORS
			document.domain = document.domain;
		</script>
	</head>
	<body>
		<h1>SLIME: JavaScript with Java and more</h1>
		<div id="quickstart">
			<h2>Getting Started</h2>
			<div>
				<h3>Getting the code</h3>
				The SLIME code must be obtained, either
				by cloning it from GitHub or
				<a href="https://github.com/davidpcaldwell/slime/archive/refs/heads/master.zip">downloading it</a> and unzipping
				it. In the near future (see <a href="https://github.com/davidpcaldwell/slime/issues/280">issue 280</a>), it will be
				possible to install SLIME via a single command on a client machine.
			</div>
			<div>
				<h3>Executing scripts</h3>
				<p>
					At that point, it is ready to use; SLIME is capable of installing its own dependencies (including Java, Node.js,
					and TypeScript) over the
					internet.
				</p>
				<p>
					The top-level <code><a href="jsh/launcher/api.html">jsh.bash</a></code> script can be used to run scripts.
					<code>jsh</code> scripts that are top-level scripts and intended to be used as main programs are denoted by the
					suffix <code>.jsh.js</code>. The example invocation above will
					run a script that will output a JSON data structure describing the shell.
				</p>
			</div>
		</div>
		<div id="platforms">
			<h2>Provided Platforms</h2>
			<div id="java">
				<h3>Java</h3>
				<p>
					SLIME's Java support allows applications to be written in JavaScript that call out to Java platform libraries.
					As such, it is an ideal platform for migrating Java software toward JavaScript.
				</p>
				<p>
					SLIME provides two Java platforms: the <code>jsh</code> scripting platform that runs on the JVM, and the Java
					servlet platform that runs on a standard Java servlet implementation. <code>jsh</code> also provides the ability
					to run a servlet container from within its shell.
				</p>
				<div id="java-compatibility">
					<h4>Compatibility</h4>
					<div>
						<h5>JDK</h5>
						<div>
							Current goal is to be compatible with version used by most Java developers per most recent
							<a href="https://www.jetbrains.com/lp/devecosystem-2020/java/">JetBrains survey</a>, which is currently
							<strong>Java 8</strong>.
						</div>
					</div>
					<div>
						<h5>JavaScript engines</h5>
						<div>
							The test suite executes tests primarily with <strong>Rhino 1.7.13</strong>, with some tests for the
							<strong>Nashorn</strong> engine on JDK 8.
							<strong>GraalVM</strong> is not yet supported, although
							<a href="https://github.com/davidpcaldwell/slime/projects/10">development is underway</a>.
						</div>
					</div>
					<div>
						<h5>Servlet containers</h5>
						<div>
							SLIME Servlets is compatible with the Servlet 3.0.1 implementation.
						</div>
						<div>
							<code>jsh</code> currently supports <strong>Tomcat 7.0.x</strong> and is tested via the test suite. Updating to
							Tomcat 9 is on the roadmap via <a href="https://github.com/davidpcaldwell/slime/issues/209">issue 209</a>.
						</div>
					</div>
				</div>
				<div>
					<h4><code><a href="local/doc/typedoc/modules/slime.jsh.html">jsh</a></code>: a JavaScript application environment that can access the Java platform.</h4>
				</div>
				<div>
					<h4><a href="rhino/http/servlet/api.html">SLIME Servlets</a>: a JavaScript environment for authoring
						Java servlets</h4>
				</div>
			</div>
			<div>
				<h3><a href="loader/browser/api.html">Browser</a>: a SLIME environment for the browser</h3>
				Browser support is less mature than Java support, but is currently tested in Google Chrome, Firefox and Safari.
			</div>
			<div>
				<h3><a href="jxa/api.html">JXA</a>: a SLIME environment for use in macOS automation</h3>
				JXA support is alpha quality.
			</div>
		</div>
		<div>
			<h2>Using SLIME</h2>
			<div>
				<h3>SLIME Definitions (documentation and testing)</h3>
				<p>
					SLIME has the concept of a <dfn>definition</dfn>, which is a construct that provides both documentation and
					a test suite for a particular software module.
				</p>
				<p>
					Documentation for SLIME itself is mostly contained in SLIME definitions that define its APIs.
				</p>
				<p>
					The best way to create SLIME definitions is via the <a href="local/doc/typedoc/modules/slime.fifty.html">Fifty</a>
					definition framework, which uses TypeScript to provide type definitions and <code>tsdoc</code>-compatible
					documentation (and uses <a href="https://typedoc.org/">Typedoc</a> to
					publish that documentation), and allows
					inline tests to be authored within those TypeScript definitions. A simple example that contains tests
					for the project's <code>wf</code> commands can be found at <a href="wf.fifty.ts?as=text"><code>wf.fifty.ts</code></a>.
				</p>
				<p>
					Many existing SLIME APIs are currently
					defined via the deprecated JSAPI definition format, which used literate definitions that allowed documentation
					and tests to be defined via annotated HTML, using HTML constructs for documentation and embedded scripts for
					testing. These definitions can be reached via links from the Typedoc-published Fifty definitinos.
				</p>
				<div>
					<h4><a href="local/doc/typedoc/index.html">SLIME API</a> from Fifty definitions and published by Typedoc</h4>
				</div>
			</div>
			<div>
			</div>
		</div>
		<div>
			<h2>Creating projects using SLIME</h2>
			<div>
				<div>
					<h4>Running SLIME definition tests</h4>
					<ul>
						<li>
							<div>
								Running individual definitions in Fifty:
								<ul>
									<li><code>tools/fifty.bash test.jsh [--debug:rhino] <i>file</i>.fifty.ts [--part <i>part</i>]</code></li>
									<li>
										<code>tools/fifty.bash test.browser [--interactive] [--chrome:data <i>pathname</i>] [--chrome:debug:vscode] <i>file</i>.fifty.ts</i> [--part <i>part</i>]</code>:
										Invokes a <a href="loader/api/test/fifty/test-browser.jsh.js">script</a> to run Fifty browser tests;
										see the script for command-line argument definitions.
									</li>
								</ul>
							</div>
						</li>
						<li>
							<div class="deprecated">
								(<strong>deprecated</strong>) Running individual definitions in JSAPI:
								<ul>
									<li><code>jsh</code>: <code>./jsh.bash jsh/test/suite.jsh.js -definition <i>definition</i> [-part <i>part</i>]</code></li>
									<li>
										Browser definition page:
										<code>./jsh.bash <a href="loader/browser/test/suite.jsh.api.html">loader/browser/test/suite.jsh.js</a>
											-definition <i>pathname</i> [...]
										</code>
									</li>
									<li>
										Running a JSAPI browser suite:
										<code>./jsh.bash <a href="loader/browser/test/suite.jsh.api.html">loader/browser/test/suite.jsh.js</a>
											-suite <i>pathname</i>
											[-base <i>directory</i>]
											[-interactive]
										</code>
									</li>
								</ul>
							</div>
							<!--
								TODO	evaluate the below; does it even work?
							-->
							<!--
							<li>
								<code>loader/api/tools/update.jsh.js [-base <i>directory</i>]</code>: Inlines or updates the definition files
								for a library that does not itself contain SLIME (and thus cannot link to the SLIME definition files in
								<code>loader/api</code>).
							</li>
							-->
						</li>
					</ul>
				</div>
				<div>
					<h4>Serving documentation from SLIME definitions</h4>
					<p>
						SLIME provides tools for SLIME-based projects to generate and serve their own documentation (interleaved with
						SLIME's, if SLIME is included in the TypeScript project). SLIME-based projects can serve their documentation
						using the <code>documentation.jsh.js</code> script (which is run under <code>jsh</code>).
					</p>
					<div>
						<code>tools/documentation.jsh.js</code>:
						Serves the documentation for a project, in a dedicated Chrome browser if Chrome is found. Typedoc
						documentation will be generated if necessary and served for both the top-level repository and
						subrepositories at <code>local/doc/typedoc</code> (it will be re-generated for each request if
						<code>--watch</code> is used).
						<ul>
							<li>
								<code>--base <i>directory</i></code>: top-level directory of the project; defaults to the current
								working directory.
							</li>
							<li>
								<code>--host <i>hostname</i></code>: hostname suffix to use in the browser's address bar when serving
								pages. If omitted, the script will provide a host name.
							</li>
							<li><code>--index <i>path</i></code>: relative path to the index page; defaults to <code>README.html</code>.</li>
							<li>
								<code>--watch</code>: if present, causes documentation to be re-generated for every HTML page
								requested; helpful when authoring docunmentation.
							</li>
							<li>
								<code>--chrome:id <i>name</i></code>: the private Chrome directory to use (under
								<code>local/chrome</code>); defaults to <code>documentation</code>, or <code>document</code>
								if <code>--watch</code> is set).
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div>
				<h3><code>wf</code></h3>
				<p>
					SLIME provides a tool called <code>wf</code> for automating tasks in the software development lifecycle. It
					provides standard implementations of various commands that can be added to a project with some project-specific
					configuration; see <a href="local/doc/typedoc/interfaces/slime.jsh.wf.exports.html"><code>jsh.wf.project.initialize()</code></a>.
					Custom <code>wf</code> commands can also be implemented, either from scratch or using a provided
					<code>jsh</code> plugin <a href="local/doc/typedoc/interfaces/slime.jsh.wf.exports.html">API</a>.
					See the <code>wf</code> <a href="local/doc/typedoc/modules/slime.jsh.wf.html">documentation</a> for more information on setting up
					<code>wf</code> in a new project.
				</p>
			</div>
		</div>
		<div>
			<h2>Tools and examples</h2>
			<ul>
				<li>
					<code>rhino/http/servlet/tools/serve.jsh.js
						[--chrome:data <i>location</i>]
						[--chrome:debug:port <i>number</i>]
						[--index <i>path-to-index</i>]
						<i>directory</i></code>: Serves a directory on an ephemeral port, perhaps to make it easy to browse files,
						or maybe to support a browser-only application.

						If <code>--chrome:data</code>
						is provided, Chrome will be opened to
						browse the directory, starting at the path specified by <code>--index</code> (default: <code>index.html</code>).

						If <code>--chrome-debug-port</code> is specified, the opened Chrome will
						allow debuggers to connect on the given port.
				</li>
			</ul>
		</div>
		<div>
			<h2><a href="https://github.com/davidpcaldwell/slime">SLIME on GitHub</a></h2>
		</div>
		<div>
			<h2><a href="contributor/README.html">Contributing to SLIME</a></h2>
		</div>
	</body>
</html>
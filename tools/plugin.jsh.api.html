<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>SLIME: wf</title>
	<link href="..//loader/api/api.css" rel="stylesheet" type="text/css" />
	<script src="..//loader/api/api.js"></script>
	<script>
		//	TODO	CORS
		document.domain = document.domain;
	</script>
</head>
<body>
	<h1><code>wf</code></h1>
	<div>
		<h2><code>tools/wf</code></h2>
		<div>
			Scripts may use the <code>wf</code> script to execute commands related to their project lifecycle. The script relies
			on the project directory containing a <code>wf.js</code> file, which is used to implement the commands.
		</div>
		<div>
			The project directory may be specified using the <code>PROJECT</code> environment variable; if this variable is not
			set, the working directory will be used.
		</div>
		<div>
			So, a typical <code>wf</code> file might look like:
			<pre>
#!/bin/bash
export PROJECT="$(dirname $0)"
${PROJECT}/[<i>path/to/slime</i>]/tools/wf "$@"
			</pre>
		</div>
	</div>
	<div>
		<h2><code>wf.js</code></h2>
		<!--	TODO	document jsh.wf.cli.initialize() -->
		<div>
			Projects may provide a <code>wf.js</code> script, which should be an ordinary SLIME module (see the definition of
			<code>module()</code> in the <a href="../loader/api.html">Loader</a> documentation), which will be loaded with
			a <a href="../local/doc/typedoc/interfaces/slime.jsh.wf.cli.context.html"><code>$context</code></a> providing project
			information. Each function it exports
			will be interpreted as a command which can be executed by name, and will receive an argument specified by
			<a href="../local/doc/typedoc/interfaces/slime.jsh.wf.cli.arguments.html">jsh.wf.cli.Arguments</a>. Commands can use the
			<a href="../local/doc/typedoc/modules/slime.jsh.wf.html"><code>jsh.wf</code></a> APIs as part of their implementation.
		</div>
		<div>
			If an <code>initialize</code> command is provided, it is executed prior to every command (and should thus be
			idempotent).
		</div>
	</div>
</body>
</html>
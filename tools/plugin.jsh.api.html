<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>SLIME: wf</title>
	<link href="..//loader/api/api.css" rel="stylesheet" type="text/css" />
	<script src="..//loader/api/api.js"></script>
	<script>
		//	TODO	CORS
		document.domain = document.domain;
	</script>
</head>
<body>
	<div>
		<h1><code>tools/wf</code></h1>
		<div>
			Scripts may use the <code>wf</code> script to execute commands related to their project lifecycle. The script relies
			on the project directory containing a <code>wf.js</code> file, which is used to implement the commands.
		</div>
		<div>
			The project directory may be specified using the <code>PROJECT</code> environment variable; if this variable is not
			set, the working directory will be used.
		</div>
		<div>
			So, a typical <code>wf</code> file might look like:
			<pre>
#!/bin/bash
export PROJECT="$(dirname $0)"
${PROJECT}/[<i>path/to/slime</i>]/tools/wf "$@"
			</pre>
		</div>
	</div>
	<div>
		<h1><code>wf.js</code></h1>
		<div>
			The <code>wf.js</code> script provided by the project is an ordinary SLIME module (see the definition of
			<code>module()</code> in the <a href="../loader/api.html">Loader</a> documentation). Each function it exports
			is a command which can be executed by name.
		</div>
		<div>
			If an <code>initialize</code> command is provided, it is executed prior to every command (and should thus be
			idempotent).
		</div>
		<div>
			The module is loaded with the following <code>$context</code>:
			<div class="label">has properties:</div>
			<ul>
				<li class="value">
					<div class="name">base</div>
					<span class="type">directory</span>
					<span>The project directory.</span>
				</li>
			</ul>
		</div>
		<div>
			Commands receive the following argument:
			<div class="label">has properties:</div>
			<ul>
				<li class="object">
					<div class="name">options</div>
					<span>Global options passed to <code>wf</code>. Currently, none are defined.</span>
					<div class="label">has properties:</div>
					<ul>
					</ul>
				</li>
				<li class="value">
					<div class="name">arguments</div>
					<span class="type">string[]</span>
					<span>The set of arguments to the <code>wf</code> command, not including global options.</span>
				</li>
			</ul>
		</div>
	</div>
	<div>
		<h1><code>jsh.wf</code></h1>
		<div>A set of APIs that can be helpful in implementing tasks related to software development.</div>
		<div>
			<strong>See <a href="plugin.jsh.fifty.ts">TypeScript definition</a>.</strong>
		</div>
	</div>
	<div jsapi:id="fifty">
		<script type="application/x.jsapi#tests">
			$jsapi.loader.fifty({
				path: "plugin.jsh.fifty.ts",
				verify: verify
			});
		</script>
	</div>
</body>
</html>
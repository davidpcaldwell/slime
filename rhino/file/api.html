<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>Filesystem API</title>
	<link rel="stylesheet" type="text/css" href="../../loader/api/api.css"></link>
	<script type="text/javascript" src="../../loader/api/api.js"></script>
</head>
<body>
	<div>
		<h1>Exports</h1>
		<ul>
			<li class="function" jsapi:id="Pathname">
				<div class="name">Pathname</div>
				<div class="type">
					<a class="type" name="types.node">node</a>
					<div class="label">has properties:</div>
					<ul>
						<li class="function" jsapi:id="copy">
							<div class="name">copy</div>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<span class="type"><a href="#types.pathname">Pathname</a></span>
										or <span class="type"><a href="#types.directory">directory</a></span>
										<span>
											A location to which to copy this node. If the given location is a
											<a href="#types.directory">directory</a>, the node will be copied into that directory
											with this node's basename. If the given location is a
											<a href="#types.Pathname">Pathname</a>,
											the node will be copied to the
											given <code>Pathname</code>.
										</span>
									</li>
									<li class="object">
										<span>(optional) An object whose properties specify the operation of this method.</span>
										<div class="label">has properties:</div>
										<ul>
											<li class="value" jsapi:id="recursive">
												<div class="name">recursive</div>
												<span class="type">boolean</span>
												<span>
													If <code>true</code>, then if the parent directory or directories to which this
													file would be copied do not exist, they will be created. Otherwise, if they do
													not exist, an exception will be thrown.
												</span>
											</li>
											<li class="function" jsapi:id="filter">
												<!--	TODO	should harmonize this concept with the same concept in list()	-->
												<div class="name">filter</div>
												<span>
													(optional)
													A function that specifies which nodes to copy. For an ordinary
													file, this function will be invoked once with the given file; for a directory,
													it will be invoked for the directory and then recursively for its contents.
													If omitted, an implementation will be supplied that copies all nodes unless
													there is an existing node at the given location, in which case it will throw
													an exception.
												</span>
												<div class="arguments">
													<div class="label">Arguments</div>
													<ol>
														<li class="object">
															<span>
																An argument with properties describing a node to copy.
															</span>
															<div class="label">has properties:</div>
															<ul>
																<li class="value">
																	<div class="name">entry</div>
																	<span class="type"><a href="#types.node.entry">node.entry</a></span>
																	<span>
																		The entry to copy, relative to the node on which the
																		<code>copy()</code> method was invoked.
																	</span>
																</li>
																<li class="value">
																	<div class="name">exists</div>
																	<span class="type"><a href="#types.node">node</a></span>
																	<span>
																		The node, if any, that already exists at the destination to
																		which this node will be copied.
																	</span>
																</li>
															</ul>
														</li>
													</ol>
												</div>
												<div class="returns">
													<div class="label">Returns</div>
													<span class="type">boolean</span>
													<div>
														If <code>true</code> is returned, then if this node is an ordinary file, it
														will be copied, overwriting the file at the given location. If it is a
														directory, then the directory will be created; if it already exists, no
														action will be taken.
													</div>
													<div>
														If <code>false</code> is returned, then for ordinary files; no action will
														be taken. For directories, not only will no action be taken, but the
														contents of the given directory will not be processed.
													</div>
												</div>
											</li>
										</ul>
									</li>
								</ol>
							</div>
							<div class="returns">
								<div class="label">Returns</div>
								<span class="type"><a href="#types.node">node</a></span>
								<span>The node created by this copy.</span>
							</div>
							<div class="label">has properties:</div>
							<ul>
								<li class="object">
									<div class="name">filter</div>
									<span>
										An object whose properties supply implementations suitable for use as the
										<code>filter</code> property of the mode argument of <code>copy</code>.
									</span>
									<div class="label">has properties:</div>
									<ul>
										<li class="value">
											<div class="name">OVERWRITE</div>
											<span class="type">function suitable for use as value for <code>filter</code></span>
											<span>Implementation that always overwrites the given files and directories.</span>
										</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="type" jsapi:id="file">
					<a class="type" name="types.file">file</a>
					<div>
						<span class="type">supports <a href="#types.node">node</a></span>
						<span class="type">supports <a href="../../loader/jrunscript/api.html#$exports.Resource">Java Resource</a></span>
					</div>
					<div class="label">has properties:</div>
					<ul>
						<li class="value">
							<div class="name">length</div>
							<span class="type">number</span>
							<span>The size of this file, in bytes.</span>
						</li>
						<li class="function">
							<div class="name">read</div>
							<span>
								Opens this file for reading.
							</span>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<div>
											An argument specifying how the caller wants to read the file. The following arguments
											are allowed. If the argument is:
											<ul>
												<li>
													<code>Streams.binary</code>, <code>read</code> will return a
													<code>jrunscript/io</code> <i>binary input stream</i> which can be used to read the
													file.
												</li>
												<li>
													<code>Streams.text</code>, <code>read</code> will return a
													<code>jrunscript/io</code> <i>character input stream</i> which can be used to read the
													file.
												</li>
												<li>
													The global function <code>String</code>, <code>read</code> will read the entire
													file into a <code>string</code> and return it.
												</li>
												<li>
													The global function <code>XML</code>, <code>read</code> will read the entire
													file into an <code>XMLList</code> and return it.
												</li>
											</ul>
										</div>
									</li>
								</ol>
							</div>
							<div class="returns">
								<div class="label">Returns</div>
								<span>
									Either the content of the file or a stream for reading that content, depending on its
									arguments: see above.
								</span>
							</div>
						</li>
						<!--
						<li class="function">
							<div class="name">readLines</div>
							<span>Convenience for <code>read(Streams.text).readLines()</code>.</span>
						</li>
						-->
					</ul>
				</div>
				<div class="type">
					<a class="type" name="types.directory">directory</a>
					<span>An object representing a directory in the local file system.</span>
					<div>
						<span class="type">supports <a href="#types.node">node</a></span>
					</div>
					<div class="label">has properties:</div>
					<ul>
						<li class="function">
							<div class="name">getFile</div>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<span class="type">string</span>
										<span>A filesystem path relative to this directory</span>
									</li>
								</ol>
							</div>
							<div class="returns">
								<div class="label">Returns</div>
								<span class="type"><a href="#types.file">file</a></span>
								<span>
									A file that can be found at the given location, or <code>null</code> if no (non-directory) file
									exists at that location.
								</span>
							</div>
						</li>
						<li class="function">
							<div class="name">getSubdirectory</div>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<span class="type">string</span>
										<span>A relative path</span>
									</li>
								</ol>
							</div>
							<div class="returns">
								<div class="label">Returns</div>
								<span class="type"><a href="#types.directory">directory</a></span>
								<span>
									A subdirectory that can be found at the given location relative to this directory, or
									<code>null</code> if no directory exists at that location.
								</span>
							</div>
						</li>
					</ul>
				</div>
			</li>
		</ul>
	</div>
</body>
</html>

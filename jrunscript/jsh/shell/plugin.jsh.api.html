<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>jsh.shell</title>
	<link rel="stylesheet" type="text/css" href="../../loader/api/api.css" />
	<script type="text/javascript" src="../../loader/api/api.js"></script>
	<script>
		window.slime.definition.inherited = function() {
			var exported = Array.prototype.slice.call(this.getApi('api.html').getElement('exports').node.children);
			debugger;
			var run = exported.filter(function(element) { return element.getAttribute("jsapi:id") == "run" });
			var replacement = document.getElementById("run");
			exported.forEach(function(li,index,array) {
				if (li.getAttribute("jsapi:id") == "run") {
					array[index] = replacement;
				}
			});
			return exported;
		}
	</script>
</head>
<body>
	<div>
		<h1>Exports</h1>
		<script type="application/x.jsapi#initialize" jsapi:reference="getApi('../../../rhino/shell/api.html').getElement('script.initialize')">
			//	see code in api.html
		</script>
		<div class="type" jsapi:replace="getApi('../../../rhino/shell/api.html').getElement('types.stdio')">
		</div>
		<ul>
			<li jsapi:replace="window.slime.definition.inherited()">

			</li>
			<li class="function" jsapi:id="jsh">
				<div class="name"><a id="exports.jsh">jsh</a></div>
				<script type="application/x.jsapi#initialize">
					//	TODO	add packaged shell
					//	TODO	add remote shell
				</script>
			</li>
		</ul>
	</div>
<!--

$doc.members.shell = new $Doc.Function({
	summary: "Executes a subprocess.",
	asFunction: {
		arguments: {
			list: [
				{
					comment: "An object representing the mode of execution for this function.",
					type: new $Doc.Type({
						members: {
							stdin: {
								name: "stdin",
								type: $doc.types.binput,
								summary: <>A stream that will be used as the standard input stream for the subprocess</>,
							},
							stdout: {
								name: "stdout",
								type: $doc.types.boutput,
								summary: <>A stream to which the standard output stream of the subprocess will be written.  If
									<code>null</code>, the output will be discarded.  The default is
									<code>jsh.file.Streams.stdout</code>.
								</>,
							},
							stderr: {
								name: "stderr",
								type: $doc.types.boutput,
								summary: <>A stream to which the standard error stream of the subprocess will be written.  If
									<code>null</code>, the output will be discarded.  The default is
									<code>jsh.file.Streams.stderr</code>.</>,
							},
							onExit: {
								name: "onExit",
								type: new $Doc.Type({
									summary: "Information about a subprocess",
									members: {
										command: {
											name: "command",
											type: "string",
											summary: "The command invoked.",
										},
										arguments: {
											name: "arguments",
											type: "Array of string",
											summary: "The arguments sent to the command.",
										},
										status: {
											name: "status",
											type: "number",
											summary: "The exit status of the command",
										}
									}
								}),
								summary: <>A callback function that will be invoked when the subprocess exits.  The function will
									be invoked with an argument containing information about the subprocess.
								</>,
							}
						}
					})
				}
			]
		}
	}
});
*/
}
-->
</body>
</html>

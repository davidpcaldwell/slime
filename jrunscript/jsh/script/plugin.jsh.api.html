<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>jsh.script</title>
	<link rel="stylesheet" type="text/css" href="../../loader/api/api.css" />
	<script type="text/javascript" src="../../loader/api/api.js"></script>
	<style type="text/css">
		#getopts { border-collapse: collapse; margin: 0em 0.5em; }
		#getopts td { border: 1px solid; padding: 0.2em; }
		#getopts th { padding: 0em 0.4em; }
	</style>
</head>
<body>
	<div>
		<h1>Exports</h1>
		<ul>
			<li class="function" jsapi:id="getopts">
				<div class="name"><a id="properties.getopts">getopts</a></div>
				<div class="label">has properties:</div>
				<div class="arguments">
					<div class="label">Arguments</div>
					<ol>
						<li class="object">
							<span>An object describing how the arguments should be processed.</span>
							<div class="label">has properties:</div>
							<ul>
								<li class="value">
									<div class="name">options</div>
									<span class="type">object</span>
									<span>
										Each named property of this object is the name of a recognized option. The value of
										a property describes the possible values of the option.
									</span>
									<div>

									</div>
								</li>
								<li class="value">
									<div class="name">unhandled</div>
									<span>
										(optional) One of the properties of the <code>UNEXPECTED_OPTION_PARSER</code>
										object.
									</span>
								</li>
							</ul>
						</li>
						<li class="value">
							<span class="type">Array of string</span>
							<span>
								(optional) A list of arguments to be processed.  If omitted, the values in
								<code>jsh.script.arguments</code> will be processed.
							</span>
						</li>
					</ol>
				</div>
				<div class="returns">
					<div class="label">Returns</div>
					<span>An object containing the result of parsing the argument list.</span>
					<div class="label">has properties:</div>
					<ul>
						<li class="value">
							<div class="name">options</div>
							<span class="type">object</span>
							<span>
								Each property of this object represents an option to be parsed; the name of the property indicates
								the option's name and its value indicates the option's type and/or default value.
							</span>
							<div>
								Several option types are possible.
								<table id="getopts">
									<tr>
										<th>Declaration</th>
										<th>Type</th>
										<th>Declaration with default value</th>
										<th>Value if present</th>
										<th>Value if not present and no default</th>
									</tr>
									<tr>
										<td><code>Boolean</code></td>
										<td><code>boolean</code></td>
										<td><code>false</code> (<code>true</code> is illegal, as value would not be negatable)</td>
										<td><code>true</code></td>
										<td><code>false</code></td>
									</tr>
									<tr>
										<td><code>String</code></td>
										<td><code>string</code></td>
										<td>A value of type <code>string</code></td>
										<td>The value of the next argument</td>
										<td><code>undefined</code></td>
									</tr>
									<tr>
										<td><code>Number</code></td>
										<td><code>number</code></td>
										<td>A value of type <code>number</code></td>
										<td>The value of the next argument, interpreted as a number</td>
										<td><code>undefined</code></td>
									</tr>
									<tr>
										<td><code>jsh.file.Pathname</code></td>
										<td><code>jsh.file.Pathname</code></td>
										<td>A value of type <code>jsh.file.Pathname</code></td>
										<td>
											The value of the next argument, interpreted as a <code>jsh.file.Pathname</code>. If the
											next argument is an absolute path, the equivalent <code>jsh.file.Pathname</code> is
											returned. Otherwise, the next argument is interpreted as a path relative to the current
											working directory.
										</td>
										<td><code>undefined</code></td>
									</tr>
									<tr>
										<td>
											<code>getopts.ARRAY</code>(<i>type</i>) where <i>type</i> is <code>String</code>,
											<code>Number</code> or <code>jsh.file.Pathname</code>)
										</td>
										<td><code>Array</code> of applicable type</td>
										<td>(not applicable)</td>
										<td>
											The value of the next argument, interpreted as the applicable type. Arguments can be
											specified multiple times on the same command line by repeating the option and the
											resulting array will contain all given values.
										</td>
										<td>A zero-length array.</td>
									</tr>
									<tr>
										<td>
											<code>getopts.OBJECT</code>(<i>type</i>) where <i>type</i> is <code>String</code>,
											<code>Number</code>, <code>Boolean</code>, or <code>jsh.file.Pathname</code>)
										</td>
										<td><code>Object</code> containing properties of applicable type</td>
										<td><code>Object</code></td>
										<td>
											A name-value pair created using the next argument, which is of the form
											<code><i>name</i>=<i>value</i></code>. Arguments can be
											specified multiple times on the same command line by repeating the option. For each
											argument, the value is interpreted as an instance of <i>type</i>. The result will be
											an object with a property for each occurrence, with name <code><i>name</i></code> and
											value <code><i>value</i></code>.
										</td>
										<td>
											An object with no properties.
										</td>
									</tr>
								</table>
							</div>
						</li>
						<li class="value">
							<div class="name">arguments</div>
							<span class="type">Array of string</span>
							<span>
								The arguments that were not parsed, either because they were skipped, or because they were
								"values" (arguments not beginning with a dash) that did not follow an "option" (an argument
								beginning with a dash).
							</span>
						</li>
					</ul>
				</div>
			</li>
		</ul>
	</div>
</body>
</html>

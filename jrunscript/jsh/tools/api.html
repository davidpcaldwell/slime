<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<html>
<head>
	<title>jsh Tools</title>
	<link rel="stylesheet" type="text/css" href="../../loader/api/old/api.css" />
	<script type="text/javascript" src="../../loader/api/old/api.js"></script>
</head>
<body>
	<div>
		<h1><code>slime.jsh.js</code>: create a Slime file</h1>
		<div>
			A Slime file contains JavaScript code. It can also contain supporting Java classes that will be made available to the
			JavaScript code.
		</div>
		<div>
			Usage:
			<blockquote><code>slime.jsh.js -from &lt;source-directory> -to &lt;destination-path></code></blockquote>
		</div>
		<div>
			The <code>source-directory</code> should be a directory containing scripts. It can also contain Java source code in
			a <code>java</code> subdirectory; all <code>.java</code> files under that directory will be compiled and their classes
			will be added to the Slime file.
		</div>
		<div>
			The <code>destination-path</code> can be any path, but it is recommended that it use the <code>.slime</code> file
			extension, as some other components (the jsh plugin architecture, for example) detect Slime files using that
			extension.
		</div>
	</div>
	<div>
		<h1><code>package.jsh.js</code>: package a script into an executable JAR</h1>
	</div>
	<div>
		<h1><code>profile.jsh.js</code>: Run a script under a profiler.</h1>
		<div>
			Invocation: <pre><code>profile.jsh.js [options] <i>&lt;script></i></code></pre>
			Command-line arguments:
			<ul>
				<li>
					<code>--profiler:output:html <i>filename</i></code>:
					Output HTML profiling data to <i>filename</i> (and open that file in a browser upon termination). If both
					<code>--profiler:output:html</code> and <code>--profiler:output:json</code> are omitted, an HTML file will be
					created in a temporary directory.
				</li>
				<li>
					<code>--profiler:output:json <i>filename</i></code>:
					Output profiling data to <i>filename</i> (and open a UI driven by that file upon termination).
				</li>
			</ul>
		</div>
	</div>
	<div>
		<h1><code>ncdbg.jsh.js</code>: Run a script under the <code>ncdbg</code> debugger.</h1>
		<div>
			This program has two modes of operation (it can do both at once). It can open a DevTools window for connecting to
			scripts, and it can run the scripts themselves. The two modes have specific command-line arguments.
		</div>
		<div>
			Command-line arguments for both modes:
			<ul>
				<li>
					<code>-port:ncdbg <i>number</i></code>
					(optional; defaults to <code>ncdbg</code> default)
					Specifies the number on which <code>ncdbg</code> will listen for DevTools connections. Used by the DevTools
					opener to specify the correct URL to debug.
				</li>
			</ul>
		</div>
		<div>
			<h2>DevTools opener</h2>
			<div>
				Command-line arguments:
				<ul>
					<li>
						<code>-ncdbg:chrome:instance <i>pathname</i></code>:
						Opens a browser using the given <i>pathname</i> as its user data directory. This browser may have
						project-specific files mapped in the workspace, and so forth.
					</li>
				</ul>
			</div>
		</div>
		<div>
			<h2>Script runner</h2>
			<div>
				Command-line arguments:
				<ul>
					<li>
						<code>-ncdbg:pause <i>milliseconds</i></code>:
						(optional)
						How long <code>ncdbg</code> should pause waiting for the script to start.
					</li>
					<li>
						<code>-ncdbg:port:jvm <i>number</i></code>:
						(optional; defaults to <code>ncdbg</code> default)
						Specifies the port number on which the JVM will listen for debugger connections, and to which DevTools
						will attempt to connect.
					</li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>

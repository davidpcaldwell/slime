<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

The Original Code is the SLIME loader infrastructure.

The Initial Developer of the Original Code is David P. Caldwell <david@davidpcaldwell.com>.
Portions created by the Initial Developer are Copyright (C) 2013 the Initial Developer. All Rights Reserved.

Contributor(s):
END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
	<head>
		<title>jsh.test.provision</title>
		<link rel="stylesheet" type="text/css" href="../../../../loader/api/api.css" />
		<script src="../../../../loader/api/api.js"></script>
	</head>
	<body>
		<div>
			<p>
				Provides APIs useful for testing provisioning software.
			</p>
			<p>
				To enable these APIs, execute:
				<code>jsh.tools.provision.plugin.test();</code>
			</p>
		</div>
		<div>
			<h1>Exports</h1>
			<ul>
				<li class="function">
					<div class="name">serve</div>
					<span>__DESCRIPTION__</span>
					<div class="arguments">
						<div class="label">Arguments</div>
						<ol>
							<li class="object">
								<span>__DESCRIPTION__</span>
								<div class="label">has properties:</div>
								<ul>
									<li class="value">
										<div class="name">bitbucket</div>
										<span class="type">__TYPE__</span>
										<span>
											(optional; default is <code>getMockConfiguration(base)</code>)
											Argument to <code>jsh.test.mock.Internet.bitbucket</code>
										</span>
									</li>
									<li class="value">
										<div class="name">base</div>
										<span class="type">directory</span>
										<span>__DESCRIPTION__</span>
									</li>
									<li class="value">
										<div class="name">version</div>
										<span class="type">string</span>
										<span>
											(optional; defaults to <code>tip</code>)
											A bookmark, tag, or commit ID.
										</span>
									</li>
									<li class="value">
										<div class="name">script</div>
										<span class="type">__TYPE__</span>
										<span>__DESCRIPTION__</span>
									</li>
									<li class="value">
										<div class="name">host</div>
										<span class="type">__TYPE__</span>
										<span>__DESCRIPTION__</span>
									</li>
									<li class="value">
										<div class="name">user</div>
										<span class="type">__TYPE__</span>
										<span>__DESCRIPTION__</span>
									</li>
								</ul>
							</li>
						</ol>
					</div>
					<div class="returns">
						<div class="label">Returns</div>
						<span class="type">__TYPE__</span>
						<span>__DESCRIPTION__</span>
					</div>
					<div class="label">has properties:</div>
					<ul>
						<li class="function">
							<div class="name">getMockBitbucketConfiguration</div>
							<span>
								Returns a mock server configuration derived by examining a top-level directory, scanning for 
								subrepositories.
							</span>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<span class="type">base</span>
										<span>The project base.</span>
									</li>
									<li class="function">
										<!--
										<div class="name">isPrivateRepository</div>
										-->
										<span>A function that tells the mock server whether a particular repository is private.</span>
										<div class="arguments">
											<div class="label">Arguments</div>
											<ol>
												<li class="value">
													<span class="type">string</span>
													<span>The user ID of the owner.</span>
												</li>
												<li class="value">
													<span class="type">string</span>
													<span>The name of the repository.</span>
												</li>
											</ol>
										</div>
										<div class="returns">
											<div class="label">Returns</div>
											<span class="type">boolean</span>
											<span>Whether the specified repository is private.</span>
										</div>
									</li>
								</ol>
							</div>
							<div class="returns">
								<div class="label">Returns</div>
								<span class="type">object</span>
								<span>An object suitable for use as the <code>bitbucket</code> property of <code>serve()</code></span>
							</div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</body>
</html>

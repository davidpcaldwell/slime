<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
	<head>
		<title>jsh Installers</title>
		<link href="../../../loader/api/api.css" rel="stylesheet" type="text/css" />
		<script src="../../../loader/api/api.js"></script>
	</head>
	<body>
		<div>
			<h1>Exports</h1>
			<div jsapi:id="exports">
				<div class="type">
					<a class="type" name="types.installation">installation</a>
					<span>
						Specifies software to be installed (including where to obtain it and how it is structured) and a destination
						to which to install it.
					</span>
					<div class="label">has properties:</div>
					<ul>
					</ul>
				</div>
				<div class="type">
					<a class="type" name="types.listener">listener</a>
					<span>An event handling object.</span>
					<div class="label">has properties:</div>
					<ul>
						<li class="function">
							<div class="name">console</div>
							<span>
								(optional)
								A callback invoked with events containing messages suitable for display on the console.
							</span>
							<div class="arguments">
								<div class="label">Arguments</div>
								<ol>
									<li class="value">
										<span class="type">event</span>
										<span>An event whose detail is:</span>
										<div class="label">has properties:</div>
										<ul>
											<li class="value">
												<div class="name">message</div>
												<span class="type">string</span>
												<span>A message.</span>
											</li>
										</ul>
									</li>
								</ol>
							</div>
						</li>
					</ul>
				</div>
				<ul>
					<li class="function">
						<div class="name">get</div>
						<span>
							Returns a file containing an installer, either using a specified local file or a specified URL.
							If <code>file</code> is absent or
							<code>null</code>, the method will attempt to locate it in the
							<code>$context.downloads</code> directory by <code>name</code>. If it is
							not found, and the <code>url</code> property is provided, the file will be downloaded.
						</span>
						<div class="arguments">
							<div class="label">Arguments</div>
							<ol>
								<li class="object">
									<span>__DESCRIPTION__</span>
									<div class="label">has properties:</div>
									<ul>
										<li class="object">
											<div class="label">has properties:</div>
											<ul>
												<li class="value">
													<div class="name">file</div>
													<span class="type"><a href="../../../rhino/file/api.html#types.file">file</a></span>
													<span>
														(optional)
														The local copy of the installation file.
													</span>
												</li>
												<li class="value">
													<div class="name">url</div>
													<span class="type"><a href="../../../rhino/http/client/api.html#types.request.url">http request url</a></span>
													<span>
														The remote URL of the installation file.
													</span>
												</li>
												<li class="value">
													<div class="name">name</div>
													<span class="type">string</span>
													<span>
														(optional; defaults to terminal file name of URL)
														The filename to use if a file needs to be created when downloading this file.
													</span>
												</li>
											</ul>
										</li>
									</ul>
								</li>
								<li class="object">
									<span>A handler object for events sent during the method's execution.</span>
									<div class="label">has properties:</div>
									<ul>
										<li class="function">
											<div class="name">console</div>
											<span>__DESCRIPTION__</span>
											<div class="arguments">
												<div class="label">Arguments</div>
												<ol>
												</ol>
											</div>
										</li>
									</ul>
								</li>
							</ol>
						</div>
						<div class="returns">
							<div class="label">Returns</div>
							<span class="type"><a href="../../../rhino/file/api.html#types.file">file</a></span>
							<span>A file containing the installer.</span>
						</div>
					</li>
					<li class="object">
						<div class="name"><a id="$exports.format">format</a></div>
						<span>__DESCRIPTION__</span>
						<div class="label">has properties:</div>
						<ul>
							<li class="value">
								<div class="name">zip</div>
								<span class="type">__TYPE__</span>
								<span>__DESCRIPTION__</span>
							</li>
							<li class="value">
								<div class="name">gzip</div>
								<span class="type">__TYPE__</span>
								<span>
									(conditional; requires <code>tar</code> to be in the <code>PATH</code>)
									A <code>gzip</code>ped <code>tar</code> file.
								</span>
							</li>
						</ul>
					</li>
					<li class="function">
						<div class="name">install</div>
						<div>
							This method can process both local and remote files. For remote files, it is assumed that the filename of
							the file uniquely identifies the file, and that this assumption can be relied upon to determine whether the
							remote file has already been downloaded. This restriction may be removed in a future release, perhaps by
							adding additional configuration arguments.
						</div>
						<div>
							The file, when expanded, is assumed to create a single directory containing the installation. This directory
							is assumed to have the same name as the file (minus the extension). For a given archive, if the desired
							directory has a different path within, it can be specified with <code>getDestinationPath</code>.
						</div>
						<div class="arguments">
							<div class="label">Arguments</div>
							<ol>
								<li class="object">
									<span></span>
									<div class="label">has properties:</div>
									<ul>
										<!--	TODO	not really specified what happens if both url and file are present	-->
										<li class="value">
											<div class="name">url</div>
											<span class="type">string</span>
											<span>
												(optional; not necessary if <code>file</code> is present)
												The URL from which the file can be downloaded. Currently, only <code>http</code> and
												<code>https</code> URLs are supported.
											</span>
										</li>
										<li class="value">
											<div class="name">file</div>
											<span class="type"><a href="../../../rhino/file/api.html#types.file">file</a></span>
											<span>
												(optional; not necessary if <code>url</code> is present)
											</span>
										</li>
										<li class="value">
											<div class="name">format</div>
											<span class="type">(unspecified)</span>
											<span>
												(optional; if omitted, the implementation will attempt to determine it from
												<code>url</code> and <code>file</code>)
												One of the values from <a href="$exports.format"><code>format</code></a>.
											</span>
										</li>
										<li class="function">
											<div class="name">getDestinationPath</div>
											<span>
												(optional; defaults to the name of the archive, excluding the extension)
												A function specifying the path within the archive of the installation.
											</span>
											<div class="arguments">
												<div class="label">Arguments</div>
												<ol>
													<li class="value">
														<span class="type"><a href="../../../rhino/file/api.html#types.file">file</a></span>
														<span>The archive file.</span>
													</li>
												</ol>
											</div>
											<div class="returns">
												<div class="label">Returns</div>
												<span class="type">string</span>
												<span>A path within the archive to treat as the installation.</span>
											</div>
										</li>
										<li class="value">
											<div class="name">to</div>
											<span class="type"><a href="../../../rhino/file/api.html#types.Pathname">Pathname</a></span>
											<span>
												The location to which to install the installation.
											</span>
										</li>
										<li class="value">
											<div class="name">replace</div>
											<span class="type">boolean</span>
											<span>
												(optional; default: <code>false</code>)
												If <code>true</code>, and a file or directory at the specified destination already
												exists, it will be removed and replaced by the installation. If <code>false</code>,
												and the specified destination already exists, an error will be thrown.
											</span>
										</li>
									</ul>
								</li>
								<li class="value">
									<span class="type"><a href="#types.listener">listener</a></span>
									<span>A listener that will be informed about events during the installation.</span>
								</li>
							</ol>
						</div>
						<div class="returns">
							<div class="label">Returns</div>
							<span class="type"><a href="../../../rhino/file/api.html#types.directory">directory</a></span>
							<span>The directory to which the installation was installed.</span>
						</div>
					</li>
					<li class="object">
						<div class="name">apache</div>
						<span>__DESCRIPTION__</span>
						<div class="label">has properties:</div>
						<ul>
							<li class="function">
								<div class="name">find</div>
								<span>
									Locates a distribution from Apache, either in a local cache, or from an Apache mirror, and
									returns a local file containing the distribution (downloading it if necessary).
								</span>
								<div class="arguments">
									<div class="label">Arguments</div>
									<ol>
										<li class="object">
											<span>__DESCRIPTION__</span>
											<div class="label">has properties:</div>
											<ul>
												<li class="value">
													<div class="name">path</div>
													<span class="type">string</span>
													<span>__DESCRIPTION__</span>
												</li>
											</ul>
										</li>
									</ol>
								</div>
								<div class="returns">
									<div class="label">Returns</div>
									<span class="type"><a href="../../../rhino/file/api.html">file</a></span>
									<span>A local file containing the content from Apache.</span>
								</div>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</body>
</html>
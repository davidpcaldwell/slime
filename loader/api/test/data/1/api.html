<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>loader/api 1</title>
	<link rel="stylesheet" type="text/css" href="../../../../../loader/api/api.css"></link>
	<script type="text/javascript" src="../../../../../loader/api/api.js"></script>
</head>
<body>
	<script type="application/x.jsapi#initialize">
		scope.Context = function(p) {
			this.integer = p;
		};
		scope.context = new scope.Context(1);
		scope.module = $jsapi.loader.module("module.js", scope.context);
	</script>
	<div>
		<h1>Context</h1>
		<script type="application/x.jsapi#context">
			(function() {
				return new Context(1);
			})()
		</script>
	</div>
	<div>
		<h1>Exports</h1>
		<script type="application/x.jsapi#tests">
			test(module.answer == 42);
		</script>
		<script type="application/x.jsapi#tests">
			test(module.integer == 1);
			test(module.integer == context.integer);
		</script>
		<div jsapi:reference="getApi('foo.api.html').getElement('top')">
			//	This area, including the failing test, will be replaced by the contents of the reference above
			Subtest
			<script type="application/x.jsapi#tests">
				test(false);
			</script>
		</div>
	</div>
</body>
</html>

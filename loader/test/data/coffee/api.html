<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>__TITLE__</title>
	<!--	TODO	change these to use local copies of these files at the appropriate location	-->
	<link href="http://slime.googlecode.com/hg/loader/api/api.css" rel="stylesheet" type="text/css" />
	<script src="http://slime.googlecode.com/hg/loader/api/api.js"></script>
</head>
<body>
	<script type="application/x.jsapi#tests">
//		test(false);
		if (jsh.$jsapi.$coffee) {
			test(true);
			var loader = $jsapi.loader.module("loader.js");
			var coffee = $jsapi.loader.module("module.coffee");
			test(coffee.a == 2);
			test(coffee.file.b == 3);
			test(loader.file.b == 3);
			var file = $jsapi.loader.file("file.coffee");
			test(file.b == 3);
		}
//		var module = jsh.script.loader.module("module.coffee");
//		if (module.a != 2) {
//			throw new Error("Failed.");
//		} else {
//			jsh.shell.echo("Loaded CoffeeScript module.");
//		}
//		if (module.file.b != 3) {
//			throw new Error("Failed.");
//		} else {
//			jsh.shell.echo("Loaded CoffeeScript file from CoffeeScript module.");
//		}
//		var jmodule = jsh.script.loader.module("module.js");
//		if (jmodule.file.b != 3) {
//			throw new Error("Failed.");
//		} else {
//			jsh.shell.echo("Loaded CoffeeScript file from JavaScript module.");
//		}
//		var file = jsh.script.loader.file("file.coffee");
//		if (file.b != 3) {
//			throw new Error("Failed.");
//		} else {
//			jsh.shell.echo("Loaded CoffeeScript file from JavaScript program.");
//		}
//		jsh.shell.echo("Worked.");
	</script>
</body>
</html>
<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

The Original Code is the SLIME loader infrastructure.

The Initial Developer of the Original Code is David P. Caldwell <david@davidpcaldwell.com>.
Portions created by the Initial Developer are Copyright (C) 2010 the Initial Developer. All Rights Reserved.

Contributor(s):
END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title></title>
</head>
<body>
	<script type="application/x.jsapi#context">
		(function() {
			var jsh;
			var debug = function() {
			}

			var disableBreakOnExceptions = function(f) {
				return f;
			};

			if ($jsapi.disableBreakOnExceptions) {
				disableBreakOnExceptions = function(f) {
					return $jsapi.disableBreakOnExceptions(f);
				}
			}

			var evalValue = disableBreakOnExceptions(function(code) {
				try {
					var x = eval(code);
					return x;
				} catch (e) {
					return function(){}();
				}
			});

			if (typeof(evalValue("jsh")) != "undefined") {
				debug = jsh.shell.echo;
			} else if (typeof(evalValue("window")) != "undefined") {
				debug = alert;
			}
			return new function() {
				this.debug = debug;
				this.d = 1970;
			}
		})()
	</script>
	<script type="application/x.jsapi#tests">
		test(module.a == 3);
		test(module.b == 4);
		test(module.c == 5);
		test(module.d == 1970);
		test(module.e == 4);
		test(module.f == 6);
	</script>
</body>
</html>
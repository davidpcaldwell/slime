<!--
LICENSE
This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not
distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

END LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:jsapi="http://www.inonit.com/jsapi">
<head>
	<title>$api.Function</title>
	<link href="../loader/api/api.css" rel="stylesheet" type="text/css" />
	<script src="..//loader/api/api.js"></script>
	<script>
		//	TODO	CORS
		document.domain = document.domain;
	</script>
</head>
<body>
	<h1><code>$api.Function</code></h1>
	<script type="application/x.jsapi#initialize">
		var $slime = {
			getRuntimeScript: function(path) {
				return {
					name: path,
					js: $jsapi.loader.string(path)
				}
			}
		};
		scope.api = $jsapi.loader.eval("$api.js", { $engine: $platform, $slime: $slime });
		scope.api.loadedByJsapi = true;
	</script>
	<div jsapi:id="fifty">
		<script type="application/x.jsapi#tests">
			$jsapi.loader.fifty({
				path: "$api-Function.fifty.ts",
				verify: verify
			});
		</script>
	</div>
	<!--
		TODO	Uncommenting this block caused tests to fail in definition page for some reason, though this
				file has since been refactored

	<div class="type">
		<a class="type" name="types.postprocessor">postprocessor</a>
		<span>A function that is meant to process the results of an underlying function call.</span>
		<div class="function">
			<span>__DESCRIPTION__</span>
			<div class="arguments">
				<div class="label">Arguments</div>
				<ol>
					<li class="object">
						<div class="name">__NAME__</div>
						<span>__DESCRIPTION__</span>
						<div class="label">has properties:</div>
						<ul>
							<li class="value">
								<div class="name">target</div>
								<span class="type">__TYPE__</span>
								<span>__DESCRIPTION__</span>
							</li>
							<li class="value">
								<div class="name">arguments</div>
								<span class="type">Array</span>
								<span>__DESCRIPTION__</span>
							</li>
							<li class="value">
								<div class="name">returned</div>
								<span class="type">__TYPE__</span>
								<span>__DESCRIPTION__</span>
							</li>
						</ul>
					</li>
				</ol>
			</div>
			<div class="returns">
				<div class="label">Returns</div>
				<span class="type">(any)</span>
				<span>__DESCRIPTION__</span>
			</div>
		</ul>
	</div>
	-->
	<div class="label">has properties:</div>
	<ul>
		<li class="object">
			<div class="name">argument</div>
			<span>__DESCRIPTION__</span>
			<div class="label">has properties:</div>
			<ul>
				<li class="function">
					<div class="name">check</div>
					<div class="arguments">
						<div class="label">Arguments</div>
						<ol>
							<li class="object">
								<span>__DESCRIPTION__</span>
								<div class="label">has properties:</div>
								<ul>
								</ul>
							</li>
						</ol>
					</div>
					<script type="application/x.jsapi#tests">
						var check = api.Function.argument.check;

						var tester = {
							invoke: function(argument,array) {
								var f = check(argument);
								return f.apply(this,array);
							}
						};

						verify(tester).evaluate(function() { return this.invoke({ index: 0, type: "string" },[1]) }).threw.type(TypeError);
						verify(tester).evaluate(function() { return this.invoke({ index: 0, type: "string" },[void(0)]) }).threw.type(TypeError);
						verify(tester).evaluate(function() { return this.invoke({ index: 0, type: "string" },[null]) }).threw.type(TypeError);
					</script>
				</li>
			</ul>
		</li>
	</ul>
</body>
</html>